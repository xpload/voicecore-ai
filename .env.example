# 🚀 VoiceCore AI - Configuración de Entorno
# Copia este archivo a .env y configura tus valores

# ═══════════════════════════════════════════════════════════════
# 🗄️ CONFIGURACIÓN DE BASE DE DATOS
# ═══════════════════════════════════════════════════════════════

# Base de datos principal (PostgreSQL recomendado para producción)
DATABASE_URL=postgresql://voicecore_user:secure_password@localhost:5432/voicecore_ai

# Supabase (Servicio de base de datos en la nube)
# 1. Ve a https://supabase.com y crea un proyecto
# 2. En Settings > API, copia la URL y las claves
SUPABASE_URL=https://tu-proyecto-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.tu_clave_anonima
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.tu_clave_de_servicio

# ═══════════════════════════════════════════════════════════════
# 📞 CONFIGURACIÓN DE TWILIO (Llamadas de Voz)
# ═══════════════════════════════════════════════════════════════

# Credenciales de Twilio
# 1. Ve a https://console.twilio.com
# 2. En Account Info, copia Account SID y Auth Token
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=tu_auth_token_de_twilio

# Número de teléfono de Twilio
# Compra un número en Phone Numbers > Manage > Buy a number
TWILIO_PHONE_NUMBER=+1234567890

# URL de webhooks (configurar en Twilio Console)
TWILIO_WEBHOOK_URL=https://tu-dominio.com/api/webhooks/twilio

# ═══════════════════════════════════════════════════════════════
# 🤖 CONFIGURACIÓN DE OPENAI (Inteligencia Artificial)
# ═══════════════════════════════════════════════════════════════

# API Key de OpenAI
# 1. Ve a https://platform.openai.com
# 2. En API Keys, crea una nueva clave
OPENAI_API_KEY=sk-proj-tu_clave_api_de_openai_aqui

# Modelos de OpenAI
OPENAI_MODEL=gpt-4o-mini
OPENAI_REALTIME_MODEL=gpt-4o-realtime-preview-2024-10-01

# ═══════════════════════════════════════════════════════════════
# ⚙️ CONFIGURACIÓN DE LA APLICACIÓN
# ═══════════════════════════════════════════════════════════════

# Información de la aplicación
APP_NAME=VoiceCore AI
APP_VERSION=1.0.0

# Entorno de ejecución
DEBUG=false
LOG_LEVEL=INFO
SECRET_KEY=tu_clave_secreta_super_segura_de_al_menos_32_caracteres_para_produccion

# Configuración del servidor
HOST=0.0.0.0
PORT=8000
RELOAD=false

# ═══════════════════════════════════════════════════════════════
# 🔄 CONFIGURACIÓN DE REDIS (Cache y Sesiones)
# ═══════════════════════════════════════════════════════════════

# URL de Redis
REDIS_URL=redis://localhost:6379

# ═══════════════════════════════════════════════════════════════
# 🔒 CONFIGURACIÓN DE SEGURIDAD
# ═══════════════════════════════════════════════════════════════

# JWT Configuration
JWT_SECRET_KEY=tu_clave_jwt_diferente_y_segura_32_caracteres_minimo
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Bcrypt rounds para hashing de passwords
BCRYPT_ROUNDS=12

# ═══════════════════════════════════════════════════════════════
# 🌐 CONFIGURACIÓN DE CORS Y DOMINIOS
# ═══════════════════════════════════════════════════════════════

# Orígenes permitidos para CORS (separados por comas)
ALLOWED_ORIGINS=http://localhost:3000,https://tu-dominio.com

# ═══════════════════════════════════════════════════════════════
# 📁 CONFIGURACIÓN DE ALMACENAMIENTO
# ═══════════════════════════════════════════════════════════════

# Bucket para grabaciones y archivos
STORAGE_BUCKET=voicecore-recordings

# Tamaño máximo de archivo en MB
MAX_FILE_SIZE_MB=100

# ═══════════════════════════════════════════════════════════════
# 🚦 CONFIGURACIÓN DE RATE LIMITING
# ═══════════════════════════════════════════════════════════════

# Límites de llamadas por minuto
RATE_LIMIT_CALLS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ═══════════════════════════════════════════════════════════════
# 🔌 CONFIGURACIÓN DE WEBSOCKET
# ═══════════════════════════════════════════════════════════════

# Configuración de WebSocket para tiempo real
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_TIMEOUT=60

# ═══════════════════════════════════════════════════════════════
# 📞 CONFIGURACIÓN DE LLAMADAS
# ═══════════════════════════════════════════════════════════════

# Límites de llamadas concurrentes por tenant
MAX_CONCURRENT_CALLS_PER_TENANT=1000

# Timeout de llamadas en segundos
CALL_TIMEOUT_SECONDS=3600

# Timeout de respuesta de IA en milisegundos
AI_RESPONSE_TIMEOUT_MS=2000

# ═══════════════════════════════════════════════════════════════
# 🛡️ CONFIGURACIÓN DE DETECCIÓN DE SPAM
# ═══════════════════════════════════════════════════════════════

# Umbral de detección de spam (0.0 - 1.0)
SPAM_DETECTION_THRESHOLD=0.7

# Habilitar desafío para llamadas sospechosas
SPAM_CHALLENGE_ENABLED=true

# ═══════════════════════════════════════════════════════════════
# 📊 CONFIGURACIÓN DE MONITOREO
# ═══════════════════════════════════════════════════════════════

# Sentry para tracking de errores (opcional)
SENTRY_DSN=

# Formato de logs (json o text)
LOG_FORMAT=json

# Habilitar métricas de Prometheus
ENABLE_METRICS=true

# ═══════════════════════════════════════════════════════════════
# 📝 INSTRUCCIONES DE CONFIGURACIÓN
# ═══════════════════════════════════════════════════════════════

# 1. Copia este archivo a .env
# 2. Configura las claves de Supabase, Twilio y OpenAI
# 3. Cambia las claves secretas por valores únicos y seguros
# 4. Para desarrollo, puedes usar DEBUG=true
# 5. Para producción, asegúrate de usar HTTPS y claves seguras

# ═══════════════════════════════════════════════════════════════
# 🔗 ENLACES ÚTILES
# ═══════════════════════════════════════════════════════════════

# Supabase: https://supabase.com
# Twilio Console: https://console.twilio.com
# OpenAI Platform: https://platform.openai.com
# Documentación: Ver SETUP_GUIDE.md